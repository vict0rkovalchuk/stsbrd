{{ 'custom-featured-products.css' | asset_url | stylesheet_tag }}

{% liquid
  assign featured_collection = section.settings.featured_collection
  assign products_to_show = section.settings.products_to_show
%}

{% if featured_collection.products.size > 0 %}
  <div class="custom-featured-products page-width page-width-desktop scroll-trigger animate--slide-in">
    {% for product in featured_collection.products limit: products_to_show %}
      <a href="{{ product.url }}" class="custom-featured-product">
        <div class="custom-featured-product-image">
          <img src="{{ product.featured_image | image_url }}" alt="{{ product.feature_image.alt }}" width="400" height="400">
        </div>
        <div class="custom-featured-product-title">
          {{ product.title }}
        </div>
        <div class="custom-featured-product-price">
          {{ product.price | money }}
        </div>
      </a>
    {% endfor %}
  </div>
{% endif %}

{% schema %}
  {
    "name": "Custom Featured Products",
    "settings": [
      {
        "type": "collection",
        "id": "featured_collection",
        "label": "Featured Collection"
      },
      {
        "type": "range",
        "id": "products_to_show",
        "label": "Product to Show",
        "max": 10,
        "min": 1,
        "step": 1,
        "unit": "pc",
        "default": 4
      }
    ],
    "presets": [
      {
        "name": "Custom Featured Products"
      }
    ]
  }
{% endschema %}